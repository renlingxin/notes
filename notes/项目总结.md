###  异步接口任务  无序 => 有序

```javascript
//id 数组 => 由接口请求返回

getIds({...参数}).then(res=>{
    let ids = res.indexIDs //拿到id 后需要 接口请求id对应的数据
})
```

#### 解决方法 1 async await

```javascript
// data
data：{
    //示例数据
    tableData:[{id:1}]
}

getIds({...参数}).then(res=>{
    let ids = res.indexIDs //拿到id 后需要 接口请求id对应的数据
    this.getInfo(ids);
})

async getInfo(data){
    for(let i=0;i<=data.length;i++){
        await getInfos().then(res=>{
            //...do something
            this.tableData.push(res);
        })
    }
}

```

#### 解决方法 2  占位标识 

```javascript
// data
data：{
    //示例数据
    tableData:[{id:1}]
}

// methods
getIds({...参数}).then(res=>{
    let ids = res.indexIDs //拿到id 后需要 接口请求id对应的数据
    ids.foreach(item=>{
        this.tableData.push({id:item})
    })
    ids.foreach(item=>{
        this.getInfo(item);
    })

})

getInfo(id){
   getInfos().then(res=>{
      //...do something
        this.tableData.foreach((item,index)=>{
            if(item.id === item){
                this.$set(this.tableData,index,res)
            }
        })
   })
}

```

#### 解决方法 3 递归

```javascript
// data
data：{
    //示例数据
    tableData:[{id:1}]
}

getIds({...参数}).then(res=>{
    let ids = res.indexIDs //拿到id 后需要 接口请求id对应的数据
    this.getInfo(ids);
})

getInfo(data,index){
    let len = data.length;
    getInfos().then(res=>{
        //...do something
        this.tableData.push(res);
        index++;
        if(index< len){
            this.getInfo(data,index)
        }
    })
}

```


###  锚点定位

```html

  <ul>
    <li>1111</li>
    <li>2222</li>
    <li id="header">3333</li>
    <li>4444</li>
    <li>5555</li>
    <li>6666</li>
    <li id="footer">7777</li>
  </ul>

```

```javascript

  let _ul = document.getElementById('footer')
  const _old = function (event) {
    // 利用 a 标签的特性进行锚点定位
    let btn = document.createElement('a')
    btn.href = '#header'
    btn.click()
    // 将节点btn追加到body中
    document.body.appendChild(btn)
    // 没有document.appendChild(btn) 不用删除
    document.body.removeChild(btn)
  }
  _ul.addEventListener('click', _old, false)

```

















