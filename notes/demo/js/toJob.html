<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <button>1111</button>
</body>
<script>
    // 快手面试 1  闭包问题
    // var 定义的i不在当前作用域
    for (var i = 0; i < 3; ++i) {
        // 问题 因为i使用的var定义 当以下代码执行时 首先会在当前找i 但是没有 外面的i 必须等for循环完才能取到值 因为是3
        // document.body.addEventListener('click', () => {
        //         console.log(i) // 3 3 3
        // })

        // 处理方式1 => 将var 改成let 从而形成块级作用域

        // 处理方式2 => 自执行函数
        // (function (i) {
        //     document.body.addEventListener('click', () => {
        //         console.log(i) // 0 1 2
        //     })
        // })(i)

        // 处理方式3 => 在当前作用域存储一下
        let temp = i
        document.body.addEventListener('click', () => {
            console.log(temp) // 0 1 2
        })
    }
    // console.log(i)
    // 快手面试 2  let

    // console.log(a)
    // var a = function () {} undefined

    // console.log(b) 报错
    // let b = function () {}

    // console.log(c)
    // var c = function () {}

    // 快手面试 3  原型问题
    // instanceOf 运算符用于检测构造函数的 prototype 属性是否出现在某个实例对象的原型链上。

    // Function.prototype.a = () => {
    //     alert(1)
    // }
    Function.prototype.a = () => {
        alert(1)
    }
    Object.prototype.b = () => {
        alert(2)
    }

    function A() {}
    const a = new A()
    console.log(A.prototype, a)
    // Function 没有prototype
    // a.a()
    a.b()
    console.log(a)
    console.log(a instanceof Object)
    console.log(a instanceof Function)

    console.log(A instanceof Object)
    console.log(A instanceof Function)

    // 快手面试 4 
    var x = 10

    function d(y) {
        var x = 20;
        return b(y)
    }

    function b(y) {
        return x + y
    }
    console.log(d(20))
</script>

<script>
    let _audio = document.createElement('audio')
    _audio.src = 'https://yaya.cdnjtzy.com/5a6e2a25cf280334ef50821b826bec6b.mp3'
    console.log('dadadad', _audio.duration)
    _audio.oncanplay = function () {
        // console.log('dadadad', _audio.duration)
    }
</script>

</html>